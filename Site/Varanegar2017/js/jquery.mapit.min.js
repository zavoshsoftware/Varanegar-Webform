/**
 * MapIt
 *
 * @copyright	Copyright 2013, Dimitris Krestos
 * @license		Apache License, Version 2.0 (http://www.opensource.org/licenses/apache2.0.php)
 * @link			http://vdw.staytuned.gr
 * @version		v0.2.2
 */
document.write('<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBvBqj2o7sf1oAYi_wYFHDnIcmhE47Lysc&callback=initMap" async="" defer="defer"  ><\/script>'),function(n){"use strict";n.fn.mapit=function(t){var t=n.extend({latitude:35.749762,longitude:51.40345,zoom:16,type:"ROADMAP",scrollwheel:!1,marker:{latitude:35.749762,longitude:51.40345,icon:"images/map-marker.png",title:"Tehran",open:!1,center:!0},styles:"GRAYSCALE",origins:[["37.936294","23.947394"],["37.975669","23.733868"]]},t);n(this).each(function(){var i=n(this),c=new google.maps.DirectionsRenderer,a={scrollwheel:t.scrollwheel,scaleControl:!1,center:t.marker.center?new google.maps.LatLng(t.marker.latitude,t.marker.longitude):new google.maps.LatLng(t.latitude,t.longitude),zoom:t.zoom,mapTypeId:eval("google.maps.MapTypeId."+t.type)},r=new google.maps.Map(document.getElementById(i.attr("id")),a),e,s,h,o,f,u,l;if(c.setMap(r),t.styles){var v=new google.maps.StyledMapType(eval(t.styles+"_style"),{name:t.styles});r.mapTypes.set(t.styles,v);r.setMapTypeId(t.styles)}for(e=new google.maps.Marker({map:r,position:new google.maps.LatLng(t.marker.latitude,t.marker.longitude),icon:new google.maps.MarkerImage(t.marker.icon),title:t.marker.title}),s=new google.maps.InfoWindow({content:t.address}),t.marker.open?s.open(r,e):google.maps.event.addListener(e,"click",function(){s.open(r,e)}),h=new google.maps.InfoWindow,u=[],f=0;f<t.locations.length;f++)o=new google.maps.Marker({position:new google.maps.LatLng(t.locations[f][0],t.locations[f][1]),map:r,icon:new google.maps.MarkerImage(t.locations[f][2]||t.marker.icon),title:t.locations[f][3]}),u.push(o),google.maps.event.addListener(o,"click",function(n,i){return function(){h.setContent(t.locations[i][4]);h.open(r,n)}}(o,f));l=new google.maps.DirectionsService;i.on("route",function(n,i){var r={origin:new google.maps.LatLng(t.origins[i][0],t.origins[i][1]),destination:new google.maps.LatLng(t.marker.latitude,t.marker.longitude),travelMode:google.maps.TravelMode.DRIVING};l.route(r,function(n,t){t==google.maps.DirectionsStatus.OK&&c.setDirections(n)})});i.on("hide_all",function(){for(var n=0;n<t.locations.length;n++)u[n].setVisible(!1)});i.on("show",function(n,f){var o,e;for(i.trigger("hide_all"),i.trigger("reset"),o=new google.maps.LatLngBounds,e=0;e<t.locations.length;e++)t.locations[e][6]==f&&u[e].setVisible(!0),o.extend(u[e].position);r.fitBounds(o)});i.on("hide",function(n,i){for(var r=0;r<t.locations.length;r++)t.locations[r][6]==i&&u[r].setVisible(!1)});i.on("clear",function(){if(u)for(var n=0;n<u.length;n++)u[n].setMap(null)});i.on("reset",function(){r.setCenter(new google.maps.LatLng(t.latitude,t.longitude),t.zoom)});i.trigger("hide_all")})};n(document).ready(function(){n('[data-toggle="mapit"]').mapit()})}(jQuery);