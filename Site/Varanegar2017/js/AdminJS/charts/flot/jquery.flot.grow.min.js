(function(n){"use strict";function t(t){function l(n){var t,u;if(r=n.getOptions(),f=r.series.grow.valueIndex,r.series.grow.active===!0&&e===!1){for(i=n.getData(),i.actualStep=0,i.growingIndex=0,t=0;t<i.length;t++)for(i[t].dataOrg=c(i[t].data),u=0;u<i[t].data.length;u++)i[t].data[u][f]=0;n.setData(i);e=!0}}function a(n){var u,t;if(r=n.getOptions(),r.series.grow.active===!0){for(u=n.getData(),t=0;t<i.length;t++)r.series.grow.steps=Math.max(r.series.grow.steps,u[t].grow.steps);r.series.grow.stepDelay===0&&r.series.grow.stepDelay++;s();y("resize")&&n.getPlaceholder().bind("resize",h)}}function s(){function l(){if(i.actualStep===1)for(var r=0;r<i[n].data.length;r++)i[n].data[r][f]=i[n].dataOrg[r][t.valueIndex]}function a(){if(i.actualStep<=i[n].grow.steps)for(var r=0;r<i[n].data.length;r++)t.stepDirection==="up"?i[n].data[r][t.valueIndex]=i[n].dataOrg[r][t.valueIndex]/i[n].grow.steps*i.actualStep:t.stepDirection==="down"&&(i[n].data[r][t.valueIndex]=i[n].dataOrg[r][t.valueIndex]+(i[n].yaxis.max-i[n].dataOrg[r][t.valueIndex])/i[n].grow.steps*(i[n].grow.steps-i.actualStep))}function v(){if(i.actualStep<=i[n].grow.steps)for(var r=0;r<i[n].data.length;r++)t.stepDirection==="up"?i[n].data[r][t.valueIndex]=Math.min(i[n].dataOrg[r][t.valueIndex],i[n].yaxis.max/i[n].grow.steps*i.actualStep):t.stepDirection==="down"&&(i[n].data[r][t.valueIndex]=Math.max(i[n].dataOrg[r][t.valueIndex],i[n].yaxis.max/i[n].grow.steps*(i[n].grow.steps-i.actualStep)))}function y(){if(i.actualStep==i[n].grow.steps)for(var r=0;r<i[n].data.length;r++)i[n].data[r][t.valueIndex]=i[n].dataOrg[r][t.valueIndex]}var t,c=new Date,h,n,e;if(i.actualStep<r.series.grow.steps){for(i.actualStep++,n=0;n<i.length;n++)for(e=0;e<i[n].grow.growings.length;e++)t=i[n].grow.growings[e],typeof t.stepMode=="function"?t.stepMode(i[n],i.actualStep,t):t.stepMode==="linear"?a():t.stepMode==="maximum"?v():t.stepMode==="delay"?y():l();o.setData(i);o.draw();h=new Date-c;u=window.setTimeout(s,Math.max(0,r.series.grow.stepDelay-h))}else window.clearTimeout(u),u=null}function h(){u&&(window.clearTimeout(u),u=null)}function v(n){n.getPlaceholder().unbind("resize",h)}function y(t){for(var u,r=n.plot.plugins,i=0,f=r.length;i<f;i++)if(u=r[i],u.name===t)return!0;return!1}function c(n){var t,i;if(n===null||typeof n!="object")return n;t=new n.constructor;for(i in n)t[i]=c(n[i]);return t}var e=!1,u,o=t,i=null,r=null,f;t.hooks.bindEvents.push(a);t.hooks.drawSeries.push(l);t.hooks.shutdown.push(v)}n.plot.plugins.push({init:t,options:{series:{grow:{active:!1,stepDelay:20,steps:100,growings:[{valueIndex:1,stepMode:"linear",stepDirection:"up"}]}}},name:"grow",version:"0.4"})})(jQuery);