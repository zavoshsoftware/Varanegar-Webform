"use strict";(function(n){n.fn.circliful=function(t){var i=n.extend({startdegree:0,fgcolor:"#556b2f",bgcolor:"#eee",fill:!1,width:15,dimension:200,fontsize:15,percent:50,animationstep:1,iconsize:"20px",iconcolor:"#999",border:"default",complete:null,bordersize:10,delay:0},t);return this.each(function(){function d(t,i,u){n("<span><\/span>").appendTo(t).addClass(i).html(tt).prepend(nt).css({"line-height":u+"px","font-size":r.fontsize+"px"})}function g(t,i){n("<span><\/span>").appendTo(t).addClass("circle-info-half").css("line-height",r.dimension*i+"px").text(it)}function yt(t){n.each(ht,function(u,f){r[f]=t.data(f)!=undefined?t.data(f):n(i).attr(f);f=="fill"&&t.data("fill")!=undefined&&(ct=!0)})}function pt(){u.clearRect(0,0,h.width,h.height);u.beginPath();u.arc(rt,ut,ft,b,w,!1);u.lineWidth=r.bordersize+1;u.strokeStyle=r.bgcolor;u.stroke();r.fill&&(u.fillStyle=r.fill,u.fill())}function st(i){pt();u.beginPath();u.arc(rt,ut,ft,-v+ot,k*i-v+ot,!1);r.border=="outline"?u.lineWidth=r.width+r.bordersize:r.border=="inline"&&(u.lineWidth=r.width-r.bordersize);u.strokeStyle=r.fgcolor;u.stroke();a<s&&(a+=at,requestAnimationFrame(function(){st(Math.min(a,s)/100)},f));a==s&&et&&typeof t!="undefined"&&n.isFunction(t.complete)&&(t.complete(),et=!1)}var ht=["fgcolor","bgcolor","fill","width","dimension","fontsize","animationstep","endPercent","icon","iconcolor","iconsize","border","startdegree","bordersize","delay"],r={},nt="",y,f=n(this),ct=!1,tt,it,s,p,l;f.addClass("circliful");yt(f);s=r.endPercent||0;f.data("text")!=undefined&&(tt=f.data("text"),f.data("icon")!=undefined&&(nt=n("<i><\/i>").addClass("fa "+n(this).data("icon")).css({color:r.iconcolor,"font-size":r.iconsize})),f.data("type")!=undefined?(o=n(this).data("type"),o=="half"?d(f,"circle-text-half",r.dimension/1.45):d(f,"circle-text",r.dimension)):d(f,"circle-text",r.dimension));n(this).data("total")!=undefined&&n(this).data("part")!=undefined?(p=n(this).data("total")/100,y=(n(this).data("part")/p/100).toFixed(3),s=(n(this).data("part")/p).toFixed(3)):n(this).data("percent")!=undefined?(y=n(this).data("percent")/100,s=n(this).data("percent")):y=i.percent/100;n(this).data("info")!=undefined&&(it=n(this).data("info"),n(this).data("type")!=undefined?(o=n(this).data("type"),o=="half"?g(f,.9):g(f,1.25)):g(f,1.25));n(this).width(r.dimension+"px");var e=r.dimension,h=n("<canvas><\/canvas>").attr({width:e,height:e}).appendTo(n(this)).get(0),u=h.getContext("2d"),c=window.devicePixelRatio;c&&(l=n(h),l.css("width",e),l.css("height",e),l.attr("width",e*c),l.attr("height",e*c),u.scale(c,c));var wt=n(h).parent(),rt=e/2,ut=e/2,lt=r.percent*360,bt=lt*(Math.PI/180),ft=e/2.5,w=2.3*Math.PI,b=0,a=r.animationstep===0?s:0,at=Math.max(r.animationstep,0),k=Math.PI*2,v=Math.PI/2,o="",et=!0,ot=r.startdegree/180*Math.PI,vt=r.delay;n(this).data("type")!=undefined&&(o=n(this).data("type"),o=="half"&&(w=2*Math.PI,b=3.13,k=Math.PI,v=Math.PI/.996));n(this).data("type")!=undefined&&(o=n(this).data("type"),o=="angle"&&(w=2.25*Math.PI,b=2.4,k=1.53+Math.PI,v=.73+Math.PI/.996));setTimeout(function(){st(a/100)},vt)})}})(jQuery);